{
  "target": { 
    "function": "sqlite3CommitInternalChanges",
    "fc": "parser_003",
    "category": "Parser",
    "subcategory": "SQL Building",
    "file": "build.c",
    "line": 673
  },
  "struct_spec": {
    "database_handle": {
      "mDbFlags": "u32",
      "aDb": "Db*",
      "nDb": "int",
      "flags": "u64"
    },
    "commit_params": {
      "schemaChangeFlag": "u32",
      "flagMask": "u32",
      "commitType": "u8",
      "reserved": "u8"
    }
  },
  "validation_spec": {
    "db_flags": {"min": 0, "max": 4294967295},
    "schema_change_mask": "DBFLAG_SchemaChange",
    "flag_operations": ["AND_NOT", "OR", "XOR"],
    "commit_types": ["NORMAL", "ROLLBACK", "SAVEPOINT"]
  },
  "fc_mapping": {
    "source": "build.c:673",
    "rationale": "sqlite3CommitInternalChanges - Critical database flag management",
    "api_level": "public"
  },
  "constraints": {
    "max_input_size": 1024,
    "min_input_size": 12,
    "endianness": "LE",
    "sqlite_version": "3.51.0",
    "requires_initialization": true
  },
  "notes": {
    "preconditions": [
      "Valid sqlite3 database handle",
      "Database properly initialized",
      "Schema change flag may be set"
    ],
    "side_effects": [
      "DBFLAG_SchemaChange cleared from mDbFlags",
      "Internal schema change tracking reset",
      "Commit processing completed"
    ],
    "error_conditions": [
      "Null database handle",
      "Invalid flag state",
      "Concurrent access issues"
    ]
  }
}