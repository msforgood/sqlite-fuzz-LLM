{
  "target": { 
    "function": "checkActiveVdbeCnt",
    "fc": "vdbe_aux_001",
    "category": "VDBE",
    "subcategory": "Auxiliary Functions",
    "file": "vdbeaux.c",
    "line": 3183
  },
  "struct_spec": {
    "sqlite3_db": {
      "pVdbe": "Vdbe*",
      "nVdbeActive": "int",
      "nVdbeRead": "int", 
      "nVdbeWrite": "int",
      "nVdbeExec": "int",
      "nVTrans": "int",
      "flags": "u64",
      "autoCommit": "u8"
    },
    "vdbe": {
      "pNext": "Vdbe*",
      "pPrev": "Vdbe*",
      "db": "sqlite3*",
      "pParse": "Parse*",
      "nOp": "int",
      "nOpAlloc": "int",
      "aOp": "VdbeOp*",
      "magic": "u32",
      "explain": "u8"
    },
    "check_params": {
      "expectedCnt": "int",
      "activeCount": "int",
      "readCount": "int",
      "writeCount": "int"
    }
  },
  "validation_spec": {
    "vdbe_count": {"min": 0, "max": 1000},
    "active_count": {"min": 0, "max": 100},
    "read_count": {"min": 0, "max": 50},
    "write_count": {"min": 0, "max": 50},
    "vdbe_magic": "VDBE_MAGIC_INIT",
    "db_flags": {"valid": [0, 1, 2, 4, 8, 16, 32, 64]}
  },
  "fc_mapping": {
    "source": "vdbeaux.c:3183",
    "rationale": "checkActiveVdbeCnt - Active VDBE statement counting and validation",
    "api_level": "internal"
  },
  "constraints": {
    "max_input_size": 1024,
    "min_input_size": 16,
    "endianness": "LE",
    "sqlite_version": "3.51.0",
    "requires_initialization": true
  },
  "notes": {
    "preconditions": [
      "sqlite3_initialize() called",
      "Valid database connection established",
      "VDBE statement list properly linked",
      "Database flags correctly set"
    ],
    "side_effects": [
      "Internal VDBE counters verified",
      "Database consistency checks performed",
      "Debug assertions may trigger",
      "VDBE list traversed"
    ],
    "error_conditions": [
      "SQLITE_MISUSE: Invalid database state",
      "SQLITE_INTERNAL: Counter mismatch detected",
      "SQLITE_CORRUPT: VDBE list corruption"
    ]
  }
}