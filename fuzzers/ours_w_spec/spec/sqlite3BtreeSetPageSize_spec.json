{
  "target": { 
    "function": "sqlite3BtreeSetPageSize",
    "fc": "btree_004",
    "category": "B-Tree",
    "subcategory": "Configuration Management",
    "description": "Critical page size configuration - affects entire database structure"
  },
  "struct_spec": {
    "page_size_input": {
      "page_size": "uint16_t",
      "reserve_bytes": "uint8_t",
      "fix_flag": "uint8_t",
      "scenario_flags": "uint8_t",
      "test_data": "uint8_t[11]",
      "description": "Page size configuration with reserve space and fix parameters"
    }
  },
  "validation_spec": {
    "memory_align": 8,
    "page_size_range": {"min": 512, "max": 65536},
    "reserve_bytes_range": {"min": 0, "max": 255},
    "fix_flag_range": {"min": 0, "max": 1}
  },
  "fc_mapping": {
    "source": "btree.c:3069",
    "rationale": "sqlite3BtreeSetPageSize - Critical database configuration function",
    "api_level": "internal",
    "complexity": "high",
    "call_frequency": "low"
  },
  "constraints": {
    "max_input_size": 16,
    "min_input_size": 16,
    "endianness": "LE",
    "sqlite_version": "3.51.0",
    "requires_initialization": true
  },
  "notes": {
    "preconditions": [
      "sqlite3_initialize() called",
      "Valid Btree object created",
      "Database not yet populated"
    ],
    "side_effects": [
      "Database page structure changed",
      "Page cache invalidated",
      "B-Tree reorganization may occur",
      "File format version may change"
    ],
    "error_conditions": [
      "SQLITE_CORRUPT: Invalid page size",
      "SQLITE_READONLY: Database is read-only",
      "SQLITE_BUSY: Database in use",
      "SQLITE_NOMEM: Insufficient memory"
    ],
    "fuzzing_strategy": [
      "Invalid page size values",
      "Reserve space edge cases",
      "Page size transitions",
      "Memory allocation stress"
    ]
  }
}