{
  "target": { 
    "function": "sqlite3FreeIndex",
    "fc": "parser_004",
    "category": "Parser",
    "subcategory": "SQL Building",
    "file": "build.c",
    "line": 545
  },
  "struct_spec": {
    "database_handle": {
      "db": "sqlite3*",
      "pMethods": "sqlite3_mem_methods*",
      "mallocFailed": "u8",
      "flags": "u64"
    },
    "index_object": {
      "pPartIdxWhere": "Expr*",
      "aColExpr": "ExprList*",
      "zColAff": "char*",
      "azColl": "char**",
      "aiRowEst": "tRowcnt*",
      "isResized": "u8"
    }
  },
  "validation_spec": {
    "index_size": {"min": 0, "max": 1000000},
    "column_count": {"min": 0, "max": 2000},
    "memory_flags": ["SQLITE_OMIT_ANALYZE", "SQLITE_ENABLE_STAT4"],
    "resize_state": ["RESIZED", "NOT_RESIZED"],
    "collation_count": {"min": 0, "max": 100}
  },
  "fc_mapping": {
    "source": "build.c:545",
    "rationale": "sqlite3FreeIndex - Critical index memory deallocation",
    "api_level": "public"
  },
  "constraints": {
    "max_input_size": 2048,
    "min_input_size": 20,
    "endianness": "LE",
    "sqlite_version": "3.51.0",
    "requires_initialization": true
  },
  "notes": {
    "preconditions": [
      "Valid sqlite3 database handle",
      "Valid Index object or NULL",
      "No active cursors on index"
    ],
    "side_effects": [
      "Index samples deleted (if ANALYZE enabled)",
      "Expression objects freed",
      "Collation array freed if resized",
      "Row estimate array freed (if STAT4 enabled)"
    ],
    "error_conditions": [
      "Null database handle with non-null index",
      "Double-free of index object",
      "Memory corruption during cleanup"
    ]
  }
}